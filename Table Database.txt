CREATE TABLE Users(
	UserID INT AUTO_INCREMENT PRIMARY KEY,
    UserName VARCHAR(500) NOT NULL,
    UserPassword VARCHAR(100) NOT NULL,
    UserAge INT NOT NULL,
    UserRole VARCHAR(50)
);


CREATE TABLE PC(
	PC_ID INT AUTO_INCREMENT PRIMARY KEY,
    PC_Condition VARCHAR(50)
);


CREATE TABLE PCBook(
	BookID INT AUTO_INCREMENT PRIMARY KEY,
    PC_ID INT NOT NULL,
    UserID INT NOT NULL,
    BookedDate DATE NOT NULL,
    FOREIGN KEY (PC_ID) REFERENCES PC(PC_ID) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (UserID) REFERENCES Users(UserID) ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE Report(
	ReportID INT AUTO_INCREMENT PRIMARY KEY,
    UserRole VARCHAR(50) NOT NULL,
    PC_ID INT NOT NULL,
    ReportNote VARCHAR(500) NOT NULL,
    ReportDate DATE NOT NULL,
    FOREIGN KEY (PC_ID) REFERENCES PC(PC_ID) ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE TransactionHeader(
	TransactionID INT AUTO_INCREMENT PRIMARY KEY,
    StaffID INT NOT NULL,
    StaffName VARCHAR(500) NOT NULL,
    TransactionDate DATE NOT NULL,
    FOREIGN KEY (StaffID) REFERENCES Users(UserID) ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE TransactionDetail(
	TransactionID INT,
    PC_ID INT NOT NULL,
    CustomerName VARCHAR(500) NOT NULL,
    BookedTime DATE NOT NULL,
	FOREIGN KEY (TransactionID) REFERENCES TransactionHeader(TransactionID) ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (PC_ID) REFERENCES PC(PC_ID) ON DELETE CASCADE ON UPDATE CASCADE
);